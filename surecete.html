<div id="tn-diy-tool" style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; max-width: 100%; margin: 30px 0; padding: 25px; border-radius: 12px; background-color: #2c2c2c; color: #f0f0f0; border: 1px solid #444; box-shadow: 0 4px 12px rgba(0,0,0,0.2);">
    <h3 style="color: #d4a017; margin-top: 0; text-align: center; margin-bottom: 20px;">ğŸ§ª DIY Su ReÃ§ete SihirbazÄ±</h3>
    <p style="font-size: 0.9em; color: #bbb; text-align: center; margin-bottom: 25px;">Kendi minerallerinizle mÃ¼kemmel suyu oluÅŸturun.</p>

    <div style="margin-bottom: 20px;">
        <label style="display: block; font-weight: bold; font-size: 0.85em; color: #ddd; margin-bottom: 5px;">Hedeflenen Profil</label>
        <select id="waterProfile" style="width: 100%; padding: 10px; border: 1px solid #555; background: #444; color: #fff; border-radius: 6px;">
            <option value="sca">SCA StandardÄ± (Dengeli)</option>
            <option value="melbourne">Melbourne (YumuÅŸak / Asidik)</option>
            <option value="rao">Scott Rao (YÃ¼ksek GÃ¶vde)</option>
            <option value="prettyhard">Espresso (YÃ¼ksek Sertlik)</option>
        </select>
        <p id="profileDesc" style="font-size: 0.8em; color: #aaa; margin-top: 5px;">Dengeli, profesyonel standartlara en yakÄ±n profil.</p>
    </div>

    <div style="margin-bottom: 25px;">
        <label style="display: block; font-weight: bold; font-size: 0.85em; color: #ddd; margin-bottom: 5px;">HazÄ±rlanacak Su MiktarÄ± (Litre)</label>
        <input type="number" id="diyVolume" value="1" step="0.5" style="width: 100%; padding: 10px; border: 1px solid #555; background: #444; color: #fff; border-radius: 6px;">
    </div>

    <button onclick="calculateDIY()" style="width: 100%; background-color: #d4a017; color: #000; padding: 12px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; font-size: 1em; transition: background 0.3s;">MÄ°NERALLERÄ° HESAPLA</button>

    <div id="diyResult" style="margin-top: 25px; display: none;">
        <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 10px;">
            <span style="font-size: 0.8em; text-transform: uppercase; letter-spacing: 1px; color: #bbb;">Buffer (Alkalinite) Konsantresi</span>
            <div style="font-size: 1.6em; font-weight: bold; color: #fff;"><span id="bufAmount">0</span> g</div>
            <div style="font-size: 0.8em; color: #bbb;">(Karbonat Ã‡Ã¶zeltisi)</div>
        </div>
        <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px;">
            <span style="font-size: 0.8em; text-transform: uppercase; letter-spacing: 1px; color: #bbb;">Hardness (Sertlik) Konsantresi</span>
            <div style="font-size: 1.6em; font-weight: bold; color: #fff;"><span id="hardAmount">0</span> g</div>
            <div style="font-size: 0.8em; color: #bbb;">(Epsom Tuzu Ã‡Ã¶zeltisi)</div>
        </div>
        <p style="font-size: 0.8em; color: #888; margin-top: 15px; text-align: center;">*Bu hesaplama Barista Hustle konsantre oranlarÄ±na dayanÄ±r.</p>
    </div>
</div>

<script>
// Profil Verileri (g/L)
const profiles = {
    sca: { buf: 40.1, hard: 68.6, desc: "Dengeli, profesyonel standartlara en yakÄ±n profil." },
    melbourne: { buf: 11.5, hard: 23.7, desc: "Ã‡ok yumuÅŸak, aÃ§Ä±k kavrumlarda yÃ¼ksek asidite saÄŸlar." },
    rao: { buf: 50.1, hard: 75.7, desc: "Scott Rao Ã¶nerisi. Daha gÃ¶vdeli ve tatlÄ±." },
    prettyhard: { buf: 35.1, hard: 126.1, desc: "Espresso iÃ§in yÃ¼ksek sertlik." }
};

// Dropdown deÄŸiÅŸince aÃ§Ä±klama gÃ¼ncelle
document.getElementById('waterProfile').addEventListener('change', function() {
    const selected = this.value;
    document.getElementById('profileDesc').innerText = profiles[selected].desc;
});

function calculateDIY() {
    const profileKey = document.getElementById('waterProfile').value;
    const liters = parseFloat(document.getElementById('diyVolume').value);
    
    if (!liters || liters <= 0) {
        alert("LÃ¼tfen geÃ§erli bir litre giriniz.");
        return;
    }

    const data = profiles[profileKey];
    
    // Hesaplama
    const neededBuf = (data.buf * liters).toFixed(1);
    const neededHard = (data.hard * liters).toFixed(1);

    document.getElementById('bufAmount').innerText = neededBuf;
    document.getElementById('hardAmount').innerText = neededHard;
    
    document.getElementById('diyResult').style.display = 'block';
}
</script>
