<!DOCTYPE html>
<html lang="tr" class="h-full overflow-hidden">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tetra N - Varyete KÃ¼tÃ¼phanesi (V2.1 - iframe Optimized)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@300;400;600&display=swap');

        :root {
            --primary: #1a1a1a;
            --accent: #d4a373;
            --light: #fdfcf5;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--light);
            color: var(--primary);
            margin: 0;
            height: 100%;
            overflow: hidden; /* DÄ±ÅŸ scroll'u engelle */
        }

        /* iframe iÃ§indeki scroll'un pÃ¼rÃ¼zsÃ¼z olmasÄ± iÃ§in */
        #app-root {
            height: 100vh;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch; /* iOS iÃ§in pÃ¼rÃ¼zsÃ¼z kaydÄ±rma */
            scroll-behavior: smooth;
        }

        h1, h2 {
            font-family: 'Playfair Display', serif;
        }

        .variety-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(0,0,0,0.05);
        }

        .variety-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
            border-color: var(--accent);
        }

        .active-tab {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .modal-overlay {
            background: rgba(0,0,0,0.85);
            backdrop-filter: blur(8px);
        }

        .stat-bar {
            height: 6px;
            background: #eee;
            border-radius: 4px;
            overflow: hidden;
        }

        .stat-fill {
            height: 100%;
            background: var(--accent);
            transition: width 1.2s ease-in-out;
        }

        /* Custom Scrollbar */
        #app-root::-webkit-scrollbar { width: 6px; }
        #app-root::-webkit-scrollbar-track { background: var(--light); }
        #app-root::-webkit-scrollbar-thumb { background: var(--accent); border-radius: 10px; }
    </style>
</head>
<body class="h-full">

    <div id="app-root">
        <!-- Header -->
        <header class="bg-black text-white py-12 md:py-16 px-6 text-center">
            <div class="max-w-4xl mx-auto">
                <h1 class="text-4xl md:text-6xl mb-4">Varyete KÃ¼tÃ¼phanesi</h1>
                <p class="text-accent tracking-[0.3em] uppercase text-[10px] md:text-xs mb-8">Nitelikli Kahvenin Genetik MirasÄ±</p>
                <p class="text-gray-400 max-w-2xl mx-auto italic text-xs md:text-sm leading-relaxed">
                    "KÃ¼resel kahve endÃ¼strisi, biyolojik Ã§eÅŸitlilik, iklim direnci ve duyusal mÃ¼kemmellik arayÄ±ÅŸÄ±nÄ±n kesiÅŸme noktasÄ±nda kritik bir dÃ¶nÃ¼ÅŸÃ¼m sÃ¼reci yaÅŸamaktadÄ±r."
                </p>
            </div>
        </header>

        <!-- Search & Navigation -->
        <nav class="sticky top-0 bg-white shadow-lg z-40 py-4 md:py-6 px-6">
            <div class="max-w-7xl mx-auto">
                <div class="flex flex-col md:flex-row gap-4 items-center justify-between">
                    <!-- Tabs -->
                    <div class="flex flex-wrap justify-center gap-2">
                        <button onclick="filterCategory('all')" id="tab-all" class="tab-btn px-4 py-1.5 border border-gray-200 rounded-full text-[10px] font-bold active-tab transition-all">HEPSÄ°</button>
                        <button onclick="filterCategory('atalar')" id="tab-atalar" class="tab-btn px-4 py-1.5 border border-gray-200 rounded-full text-[10px] font-bold transition-all">GELENEKSEL ATALAR</button>
                        <button onclick="filterCategory('mutasyon')" id="tab-mutasyon" class="tab-btn px-4 py-1.5 border border-gray-200 rounded-full text-[10px] font-bold transition-all">MUTASYONLAR</button>
                        <button onclick="filterCategory('hibrit')" id="tab-hibrit" class="tab-btn px-4 py-1.5 border border-gray-200 rounded-full text-[10px] font-bold transition-all">HÄ°BRÄ°T / MELEZ</button>
                        <button onclick="filterCategory('bolgesel')" id="tab-bolgesel" class="tab-btn px-4 py-1.5 border border-gray-200 rounded-full text-[10px] font-bold transition-all">BÃ–LGESEL YILDIZLAR</button>
                    </div>
                    <!-- Search -->
                    <div class="relative w-full md:w-64">
                        <input type="text" id="searchInput" placeholder="Varyete ara..." onkeyup="searchVarieties()" class="w-full px-4 py-2 rounded-full border border-gray-200 text-xs focus:outline-none focus:border-accent">
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Grid -->
        <main class="max-w-7xl mx-auto py-8 md:py-12 px-6">
            <div id="variety-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6">
                <!-- JS Content -->
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-black text-white py-12 text-center px-6">
            <div class="max-w-4xl mx-auto">
                <p class="text-accent mb-4 tracking-[0.4em] font-bold text-xs">TETRA N ROASTERY</p>
                <p class="text-gray-500 text-[10px] md:text-sm mb-8">35 Ton Kavrum, 125.000+ Fincan, Sonsuz Tutku.</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-[10px] text-gray-600 border-t border-gray-900 pt-8">
                    <div>Ankara Merkez Kavurmahanesi</div>
                    <div>Nitelikli Kahve UzmanlÄ±ÄŸÄ±</div>
                    <div>From Ankara with love ğŸ–¤</div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Modal (Fixed, stays on top of app-root) -->
    <div id="modal" class="modal-overlay fixed inset-0 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-3xl max-w-3xl w-full max-h-[90vh] overflow-y-auto relative shadow-2xl">
            <button onclick="closeModal()" class="absolute top-6 right-6 text-2xl text-gray-400 hover:text-black z-10">âœ•</button>
            <div id="modal-content"></div>
        </div>
    </div>

    <script>
        const varieties = [
            // ... (AynÄ± 53 varyete verisi buraya gelir)
            { id: 'typica', name: 'Typica', category: 'atalar', origin: 'Etiyopya / Yemen', desc: 'Kahve dÃ¼nyasÄ±nÄ±n genetik temelidir. Temiz iÃ§imi ve narenciye tatlÄ±lÄ±ÄŸÄ±yla bilinir.', quality: 90, yield: 40, disease: 20, cup: 'Narenciye, Ã§iÃ§eksi, zarif tatlÄ±lÄ±k.', bio: 'Coffea arabica (Tetraploid $2n=44$)' },
            { id: 'bourbon', name: 'Bourbon', category: 'atalar', origin: 'Reunion AdasÄ±', desc: 'Typica\'nÄ±n doÄŸal mutasyonudur. Daha kompleks ve tatlÄ± profiliyle Ã¼nlÃ¼dÃ¼r.', quality: 94, yield: 55, disease: 30, cup: 'Karamel, esmer ÅŸeker, yoÄŸun tatlÄ±lÄ±k.', bio: 'Typica tÃ¼revi' },
            { id: 'sumatra', name: 'Sumatra', category: 'atalar', origin: 'Endonezya', desc: 'Typica grubuna ait, bÃ¶lgeye Ã¶zgÃ¼ "Giling Basah" iÅŸlemiyle karakterize edilir.', quality: 85, yield: 50, disease: 40, cup: 'TopraksÄ±, baharatlÄ±, odunsu.', bio: 'Typica yerel varyetesi' },
            { id: 'java', name: 'Java', category: 'atalar', origin: 'Endonezya / Kamerun', desc: 'Typica kÃ¶kenli, pas hastalÄ±ÄŸÄ±na karÅŸÄ± orta direnÃ§li, uzun Ã§ekirdekli bir tÃ¼rdÃ¼r.', quality: 88, yield: 60, disease: 60, cup: 'Ã‡ikolata, fÄ±ndÄ±k, temiz bitiÅŸ.', bio: 'Typica grubu' },
            { id: 'moka', name: 'Moka', category: 'atalar', origin: 'Yemen', desc: 'Ã‡ok kÃ¼Ã§Ã¼k meyveleri olan, genetik olarak Bourbon\'a yakÄ±n tarihi bir varyete.', quality: 92, yield: 30, disease: 30, cup: 'Ã‡ikolata, meyvemsi, kompleks.', bio: 'Bourbon tÃ¼revi' },
            { id: 'heirloom', name: 'Heirloom', category: 'atalar', origin: 'Etiyopya', desc: 'Binlerce yÄ±llÄ±k vahÅŸi genetik havuzu temsil eden yerel miras tÃ¼rleridir.', quality: 98, yield: 50, disease: 70, cup: 'Yasemin, Earl Grey, ÅŸeftali.', bio: 'Yabani Arabica popÃ¼lasyonu' },
            { id: 'caturra', name: 'Caturra', category: 'mutasyon', origin: 'Brezilya', desc: 'Bourbon\'un doÄŸal "cÃ¼ce" mutasyonudur. YÃ¼ksek verimliliÄŸiyle bilinir.', quality: 85, yield: 85, disease: 40, cup: 'Limon asiditesi, orta gÃ¶vde.', bio: 'Bourbon Mutasyonu' },
            { id: 'pacas', name: 'Pacas', category: 'mutasyon', origin: 'El Salvador', desc: 'Bourbon\'un doÄŸal bodur mutasyonudur. El Salvador tarÄ±mÄ± iÃ§in kritiktir.', quality: 86, yield: 80, disease: 35, cup: 'TatlÄ±lÄ±k, dengeli asidite.', bio: 'Bourbon Mutasyonu' },
            { id: 'villa-sarchi', name: 'Villa Sarchi', category: 'mutasyon', origin: 'Kosta Rika', desc: 'Bourbon\'un bodur mutasyonudur. YÃ¼ksek rakÄ±mlarda Ã§ok baÅŸarÄ±lÄ±dÄ±r.', quality: 88, yield: 75, disease: 45, cup: 'CanlÄ± asidite, meyvemsi.', bio: 'Bourbon Mutasyonu' },
            { id: 'maragogype', name: 'Maragogype', category: 'mutasyon', origin: 'Brezilya', desc: 'Devasa Ã§ekirdekleriyle (Elephant Bean) bilinen Typica mutasyonudur.', quality: 87, yield: 45, disease: 25, cup: 'Narenciye, hafif gÃ¶vde.', bio: 'Typica Mutasyonu' },
            { id: 'san-ramon', name: 'San Ramon', category: 'mutasyon', origin: 'Kosta Rika', desc: 'Typica\'nÄ±n bodur mutasyonu. RÃ¼zgara karÅŸÄ± Ã§ok direnÃ§lidir.', quality: 82, yield: 70, disease: 30, cup: 'Klasik Typica profili.', bio: 'Typica Mutasyonu' },
            { id: 'tekisic', name: 'Tekisic', category: 'mutasyon', origin: 'El Salvador', desc: 'Bourbon\'dan seÃ§ilmiÅŸ, Ã§ok yÃ¼ksek fincan kalitesine sahip bir hattÄ±r.', quality: 93, yield: 50, disease: 35, cup: 'YoÄŸun tatlÄ±lÄ±k, kremsi gÃ¶vde.', bio: 'Bourbon Seleksiyonu' },
            { id: 'venecia', name: 'Venecia', category: 'mutasyon', origin: 'Kosta Rika', desc: 'Caturra seleksiyonu, geÃ§ olgunlaÅŸÄ±r ve yaÄŸmura direnÃ§lidir.', quality: 86, yield: 80, disease: 40, cup: 'Temiz iÃ§im, yÃ¼ksek tatlÄ±lÄ±k.', bio: 'Caturra seleksiyonu' },
            { id: 'villalobos', name: 'Villalobos', category: 'mutasyon', origin: 'Kosta Rika', desc: 'Typica mutasyonu, asiditesi Ã§ok parlak ve kalidir.', quality: 89, yield: 50, disease: 30, cup: 'Parlak asidite, Ã§iÃ§eksi.', bio: 'Typica Mutasyonu' },
            { id: 'mundo-novo', name: 'Mundo Novo', category: 'hibrit', origin: 'Brezilya', desc: 'Typica ve Bourbon\'un doÄŸal melezidir. GÃ¼Ã§lÃ¼ ve dayanÄ±klÄ±dÄ±r.', quality: 82, yield: 90, disease: 50, cup: 'FÄ±ndÄ±k, karamel, dÃ¼ÅŸÃ¼k asidite.', bio: 'Natural Hybrid' },
            { id: 'catuai', name: 'Catuai', category: 'hibrit', origin: 'Brezilya', desc: 'Mundo Novo ve Caturra melezi. RÃ¼zgar ve yaÄŸmura Ã§ok direnÃ§lidir.', quality: 83, yield: 95, disease: 45, cup: 'Ã‡ikolata, temiz bitiÅŸ.', bio: 'Cross (Yapay Melez)' },
            { id: 'pacamara', name: 'Pacamara', category: 'hibrit', origin: 'El Salvador', desc: 'Pacas ve Maragogype melezi. Ã‡ok bÃ¼yÃ¼k Ã§ekirdekli ve kompleks.', quality: 95, yield: 60, disease: 40, cup: 'Tropikal meyveler, baharat, gÃ¶vde.', bio: 'Cross' },
            { id: 'maracaturra', name: 'Maracaturra', category: 'hibrit', origin: 'Nikaragua', desc: 'Maragogype ve Caturra melezi. Meyvemsi profili Ã§ok gÃ¼Ã§lÃ¼dÃ¼r.', quality: 91, yield: 65, disease: 40, cup: 'Åeftali, kayÄ±sÄ±, narenciye.', bio: 'Cross' },
            { id: 'catimor', name: 'Catimor', category: 'hibrit', origin: 'Portekiz', desc: 'Caturra ve Timor Hybrid melezi. HastalÄ±klara Ã§ok direnÃ§lidir.', quality: 80, yield: 100, disease: 95, cup: 'FÄ±ndÄ±k, odunsu, orta asidite.', bio: 'Introgresive Hybrid' },
            { id: 'sarchimor', name: 'Sarchimor', category: 'hibrit', origin: 'Portekiz', desc: 'Villa Sarchi ve Timor Hybrid melezi. Pas direncinde zirvedir.', quality: 82, yield: 95, disease: 98, cup: 'BaharatlÄ±, Ã§ikolata.', bio: 'Introgresive Hybrid' },
            { id: 'colombia', name: 'Colombia', category: 'hibrit', origin: 'Kolombiya', desc: 'Cenicafe tarafÄ±ndan pas hastalÄ±ÄŸÄ±na karÅŸÄ± geliÅŸtirilmiÅŸ stabil bir hibrit.', quality: 85, yield: 90, disease: 92, cup: 'Klasik Kolombiya, dengeli.', bio: 'Introgresive Hybrid' },
            { id: 'castillo', name: 'Castillo', category: 'hibrit', origin: 'Kolombiya', desc: 'En popÃ¼ler pas direnÃ§li varyete. Kolombiya tarÄ±mÄ±nÄ±n bel kemiÄŸi.', quality: 86, yield: 95, disease: 95, cup: 'KÄ±rmÄ±zÄ± meyve, karamel.', bio: 'Introgresive Hybrid' },
            { id: 'tabi', name: 'Tabi', category: 'hibrit', origin: 'Kolombiya', desc: 'Typica, Bourbon ve Timor melezi. Uzun Ã§ekirdek yapÄ±sÄ±na sahiptir.', quality: 88, yield: 70, disease: 90, cup: 'Zarif, meyvemsi, tatlÄ±.', bio: 'Introgresive Hybrid' },
            { id: 'ihcafe90', name: 'IHCAFE 90', category: 'hibrit', origin: 'Honduras', desc: 'Honduras\'ta yaygÄ±n kullanÄ±lan, verimi yÃ¼ksek Catimor tÃ¼revi.', quality: 82, yield: 98, disease: 90, cup: 'GÃ¶vde, karamel, fÄ±ndÄ±k.', bio: 'Catimor grubu' },
            { id: 'lempira', name: 'Lempira', category: 'hibrit', origin: 'Honduras', desc: 'YÃ¼ksek verimli Catimor. AlÃ§ak irtifalarda Ã§ok baÅŸarÄ±lÄ±dÄ±r.', quality: 81, yield: 100, disease: 85, cup: 'DÃ¼ÅŸÃ¼k asidite, tatlÄ±.', bio: 'Catimor grubu' },
            { id: 'obata', name: 'Obata', category: 'hibrit', origin: 'Brezilya', desc: 'Sarchimor grubu, Ã§ok iri meyveli ve hastalÄ±klara dayanÄ±klÄ±dÄ±r.', quality: 84, yield: 90, disease: 92, cup: 'Bal, narenciye.', bio: 'Sarchimor grubu' },
            { id: 'marsellesa', name: 'Marsellesa', category: 'hibrit', origin: 'Nikaragua', desc: 'Sarchimor seleksiyonu, asiditesi yÃ¼ksek ve dayanÄ±klÄ±dÄ±r.', quality: 86, yield: 90, disease: 95, cup: 'Parlak asidite, elma.', bio: 'Sarchimor grubu' },
            { id: 'parainema', name: 'Parainema', category: 'hibrit', origin: 'Honduras', desc: 'Sarchimor tÃ¼revi, fincan kalitesiyle Ã¶dÃ¼l kazanmÄ±ÅŸ bir hibrit.', quality: 90, yield: 85, disease: 98, cup: 'Tropikal meyveler, nane, ferah.', bio: 'Sarchimor grubu' },
            { id: 'oro-azteca', name: 'Oro Azteca', category: 'hibrit', origin: 'Meksika', desc: 'Meksika\'da geliÅŸtirilmiÅŸ, pas direnci yÃ¼ksek bir kÃ¼ltivar.', quality: 83, yield: 92, disease: 94, cup: 'Ã‡ikolata, dengeli.', bio: 'Catimor grubu' },
            { id: 'centroamericano', name: 'Centroamericano', category: 'hibrit', origin: 'Orta Amerika', desc: 'F1 Hibrit, pas direnci ve yÃ¼ksek fincan kalitesini birleÅŸtirir.', quality: 91, yield: 98, disease: 95, cup: 'Kompleks, Ã§iÃ§eksi, narenciye.', bio: 'F1 Hybrid' },
            { id: 'milenio', name: 'Milenio', category: 'hibrit', origin: 'Orta Amerika', desc: 'F1 Hibrit, yÃ¼ksek rakÄ±mlarda olaÄŸanÃ¼stÃ¼ performans sergiler.', quality: 90, yield: 95, disease: 90, cup: 'Meyvemsi, tatlÄ±.', bio: 'F1 Hybrid' },
            { id: 'casiopea', name: 'Casiopea', category: 'hibrit', origin: 'Orta Amerika', desc: 'F1 Hibrit, Caturra ve Etiyopya varyetesi melezidir.', quality: 92, yield: 85, disease: 40, cup: 'Yasemin, limon, Earl Grey.', bio: 'F1 Hybrid' },
            { id: 'starmaya', name: 'Starmaya', category: 'hibrit', origin: 'Orta Amerika', desc: 'Tohumla Ã¼retilebilen ilk F1 Hibritlerden biridir.', quality: 89, yield: 95, disease: 90, cup: 'Temiz, dengeli, meyvemsi.', bio: 'F1 Hybrid' },
            { id: 'evaluna', name: 'Evaluna', category: 'hibrit', origin: 'Orta Amerika', desc: 'Yeni nesil F1, kalite potansiyeli Ã§ok yÃ¼ksektir.', quality: 92, yield: 90, disease: 95, cup: 'KayÄ±sÄ±, Ã§iÃ§eksi.', bio: 'F1 Hybrid' },
            { id: 'icatu', name: 'Icatu', category: 'hibrit', origin: 'Brezilya', desc: 'Robusta ve Bourbon arasÄ±ndaki karmaÅŸÄ±k melezlemelerin sonucudur.', quality: 84, yield: 90, disease: 85, cup: 'Kakao, yoÄŸun gÃ¶vde.', bio: 'Interspecific Hybrid' },
            { id: 'arara', name: 'Arara', category: 'hibrit', origin: 'Brezilya', desc: 'Sarchimor ve Yellow Catuai melezi, sarÄ± meyveli, Ã§ok tatlÄ±.', quality: 91, yield: 85, disease: 90, cup: 'Bal, kremsi, sarÄ± meyveler.', bio: 'Natural Hybrid (Brezilya)' },
            { id: 'sl28', name: 'SL-28', category: 'bolgesel', origin: 'Kenya', desc: 'Meyve suyu berraklÄ±ÄŸÄ±nda asiditesiyle ikonik Kenya varyetesi.', quality: 97, yield: 65, disease: 30, cup: 'Siyah frenk Ã¼zÃ¼mÃ¼, domates asiditesi.', bio: 'Bourbon grubu' },
            { id: 'sl34', name: 'SL-34', category: 'bolgesel', origin: 'Kenya', desc: 'SL-28\'e benzer ancak yÃ¼ksek rakÄ±mda ve yaÄŸÄ±ÅŸta daha dayanÄ±klÄ±dÄ±r.', quality: 95, yield: 70, disease: 35, cup: 'GÃ¶vde, kompleks asidite.', bio: 'Typica grubu tÃ¼revi' },
            { id: 'batian', name: 'Batian', category: 'bolgesel', origin: 'Kenya', desc: 'Pas direnci yÃ¼ksek ve kalitesi SL-28 ile yarÄ±ÅŸan yeni Kenya yÄ±ldÄ±zÄ±.', quality: 94, yield: 90, disease: 85, cup: 'ViÅŸne, siyah Ã§ay, parlak.', bio: 'Composite Variety' },
            { id: 'jackson', name: 'Jackson', category: 'bolgesel', origin: 'Ruanda / Burundi', desc: 'Bourbon seleksiyonu, DoÄŸu Afrika\'nÄ±n karakterini yansÄ±tÄ±r.', quality: 92, yield: 55, disease: 40, cup: 'Ã‡iÃ§eksi, limonotu.', bio: 'Bourbon seleksiyonu' },
            { id: 'k7', name: 'K7', category: 'bolgesel', origin: 'Kenya', desc: 'Pas direnci iÃ§in seÃ§ilmiÅŸ eski bir varyete, hala Ã§ok popÃ¼lerdir.', quality: 89, yield: 60, disease: 70, cup: 'Narenciye, fÄ±ndÄ±k.', bio: 'French Mission tÃ¼revi' },
            { id: 'gesha', name: 'Gesha (Gori Gesha)', category: 'bolgesel', origin: 'Etiyopya / Panama', desc: 'DÃ¼nyanÄ±n en pahalÄ± ve aromatik varyetesi. Ã‡ay benzeri zarafet.', quality: 100, yield: 35, disease: 45, cup: 'Yasemin, bergamot, nektarin.', bio: 'Wild Ethiopian' },
            { id: '74110', name: '74110', category: 'bolgesel', origin: 'Etiyopya', desc: 'CBD direncine sahip, narenciye profiliyle Ã¼nlÃ¼ Etiyopya seleksiyonu.', quality: 96, yield: 65, disease: 80, cup: 'Limon, Ã§iÃ§eksi, Ã§ok temiz.', bio: 'JARC Selection' },
            { id: '74112', name: '74112', category: 'bolgesel', origin: 'Etiyopya', desc: '74110\'a benzer, Metu-Bishari ormanlarÄ±ndan seÃ§ilmiÅŸtir.', quality: 95, yield: 65, disease: 80, cup: 'Esmer ÅŸeker, Ã§ay, narenciye.', bio: 'JARC Selection' },
            { id: '74158', name: '74158', category: 'bolgesel', origin: 'Etiyopya', desc: 'YÃ¼ksek irtifa Etiyopya kahvelerinin vazgeÃ§ilmez bir parÃ§asÄ±dÄ±r.', quality: 94, yield: 60, disease: 75, cup: 'KayÄ±sÄ±, vanilya.', bio: 'JARC Selection' },
            { id: 'sidra', name: 'Sidra', category: 'bolgesel', origin: 'Ekvador', desc: 'Red Bourbon ve Typica melezi olduÄŸu dÃ¼ÅŸÃ¼nÃ¼len, Gesha benzeri profil.', quality: 98, yield: 45, disease: 40, cup: 'GÃ¼l suyu, kÄ±rmÄ±zÄ± elma, ÅŸampanya.', bio: 'Hybrid / Mutation' },
            { id: 'wush-wush', name: 'Wush Wush', category: 'bolgesel', origin: 'Etiyopya', desc: 'Etiyopya\'nÄ±n Wushwush bÃ¶lgesinden, aÅŸÄ±rÄ± egzotik bir varyete.', quality: 97, yield: 40, disease: 50, cup: 'BÃ¶ÄŸÃ¼rtlen, Ã§ilek, kompleks.', bio: 'Landrace selection' },
            { id: 'sudan-rume', name: 'Sudan Rume', category: 'bolgesel', origin: 'Sudan', desc: 'VahÅŸi bir tÃ¼r, hibrit Ä±slahÄ± iÃ§in gen bankasÄ± olarak kullanÄ±lÄ±r.', quality: 96, yield: 30, disease: 60, cup: 'Bitkisel, kekik, zencefil, narenciye.', bio: 'Wild Arabica' },
            { id: 'laurina', name: 'Laurina (Pointu)', category: 'bolgesel', origin: 'Reunion AdasÄ±', desc: 'DoÄŸal olarak dÃ¼ÅŸÃ¼k kafeinli varyete. Ã‡ok nadirdir.', quality: 94, yield: 25, disease: 20, cup: 'TatlÄ±, yumuÅŸak, mÄ±sÄ±r tatlÄ±lÄ±ÄŸÄ±.', bio: 'Bourbon mutasyonu' },
            { id: 'ruiru-11', name: 'Ruiru 11', category: 'bolgesel', origin: 'Kenya', desc: 'HastalÄ±k direnci iÃ§in geliÅŸtirilmiÅŸ yoÄŸun gÃ¶vdeli Kenya hibriti.', quality: 85, yield: 95, disease: 95, cup: 'BaharatlÄ±, yoÄŸun gÃ¶vde.', bio: 'Composite Hybrid' },
            { id: 'jurema', name: 'Jurema', category: 'bolgesel', origin: 'Brezilya', desc: 'Caturra mutasyonu, Brezilya\'nÄ±n "mini" kahvesi olarak bilinir.', quality: 80, yield: 70, disease: 40, cup: 'Temiz, dÃ¼ÅŸÃ¼k asidite.', bio: 'Caturra tÃ¼revi' },
            { id: 'pink-bourbon', name: 'Pink Bourbon', category: 'bolgesel', origin: 'Kolombiya', desc: 'KÄ±rmÄ±zÄ± ve SarÄ± Bourbon melezi, pembe meyvelidir.', quality: 97, yield: 50, disease: 40, cup: 'GÃ¼l, bal, tropikal.', bio: 'Rare Hybrid' },
            { id: '741', name: '741', category: 'bolgesel', origin: 'Etiyopya', desc: 'Jimma AraÅŸtÄ±rma Merkezi\'nin en eski ve saÄŸlam seleksiyonlarÄ±ndan.', quality: 93, yield: 60, disease: 70, cup: 'Siyah Ã§ay, turunÃ§gil.', bio: 'JARC Selection' }
        ];

        let currentFilter = 'all';
        const grid = document.getElementById('variety-grid');

        function renderGrid(data) {
            if (data.length === 0) {
                grid.innerHTML = '<div class="col-span-full py-20 text-center text-gray-400">AradÄ±ÄŸÄ±nÄ±z kriterde varyete bulunamadÄ±.</div>';
                return;
            }
            grid.innerHTML = data.map(v => `
                <div class="variety-card bg-white rounded-2xl p-6 cursor-pointer flex flex-col justify-between" onclick="openModal('${v.id}')">
                    <div>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-[10px] font-black uppercase tracking-widest text-accent">${v.category}</span>
                            <span class="text-[10px] text-gray-300 font-mono">#${v.id.toUpperCase().substring(0,3)}</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2 group-hover:text-accent transition-colors">${v.name}</h3>
                        <p class="text-gray-500 text-xs leading-relaxed line-clamp-3 mb-4">${v.desc}</p>
                    </div>
                    <div class="pt-4 border-t border-gray-50 flex items-center justify-between">
                        <span class="text-[10px] font-bold text-gray-400 uppercase">ğŸŒ ${v.origin}</span>
                        <div class="flex gap-1">
                            <div class="w-1 h-1 rounded-full bg-accent"></div>
                            <div class="w-1 h-1 rounded-full bg-accent opacity-50"></div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function filterCategory(cat) {
            currentFilter = cat;
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active-tab'));
            document.getElementById(`tab-${cat}`).classList.add('active-tab');
            applyFilters();
        }

        function searchVarieties() {
            applyFilters();
        }

        function applyFilters() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            let filtered = varieties;

            if (currentFilter !== 'all') {
                filtered = filtered.filter(v => v.category === currentFilter);
            }

            if (searchTerm) {
                filtered = filtered.filter(v => 
                    v.name.toLowerCase().includes(searchTerm) || 
                    v.origin.toLowerCase().includes(searchTerm) ||
                    v.desc.toLowerCase().includes(searchTerm)
                );
            }

            renderGrid(filtered);
        }

        function openModal(id) {
            const v = varieties.find(item => item.id === id);
            const modal = document.getElementById('modal');
            const content = document.getElementById('modal-content');

            content.innerHTML = `
                <div class="p-8 md:p-12">
                    <div class="flex flex-col md:flex-row gap-8">
                        <div class="flex-1">
                            <span class="text-accent font-black uppercase tracking-[0.2em] text-[10px]">${v.category}</span>
                            <h2 class="text-4xl md:text-5xl font-bold mt-2 mb-4">${v.name}</h2>
                            <div class="flex items-center gap-4 text-sm text-gray-400 mb-8">
                                <span>ğŸ“ ${v.origin}</span>
                                <span class="w-1 h-1 rounded-full bg-gray-300"></span>
                                <span class="italic font-mono text-[10px]">${v.bio}</span>
                            </div>
                            
                            <h4 class="text-xs font-bold uppercase tracking-widest text-gray-400 mb-4 pb-2 border-b">Agronomik Analiz</h4>
                            <p class="text-sm leading-relaxed text-gray-600 mb-8">${v.desc}</p>

                            <h4 class="text-xs font-bold uppercase tracking-widest text-gray-400 mb-4 pb-2 border-b">Duyusal Profil</h4>
                            <div class="bg-light p-6 rounded-2xl border-l-4 border-accent italic text-gray-800 text-sm">
                                "${v.cup}"
                            </div>
                        </div>

                        <div class="w-full md:w-64 bg-gray-50 p-8 rounded-3xl h-fit">
                            <h4 class="text-xs font-bold uppercase tracking-widest text-gray-400 mb-6 text-center">Performans</h4>
                            <div class="space-y-6">
                                <div>
                                    <div class="flex justify-between text-[10px] font-black mb-2"><span>KALÄ°TE</span><span>${v.quality}%</span></div>
                                    <div class="stat-bar"><div class="stat-fill" style="width: ${v.quality}%"></div></div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-[10px] font-black mb-2"><span>VERÄ°M</span><span>${v.yield}%</span></div>
                                    <div class="stat-bar"><div class="stat-fill" style="width: ${v.yield}%"></div></div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-[10px] font-black mb-2"><span>DÄ°RENÃ‡</span><span>${v.disease}%</span></div>
                                    <div class="stat-bar"><div class="stat-fill" style="width: ${v.disease}%"></div></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            modal.classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('modal').classList.add('hidden');
        }

        window.onclick = function(event) {
            const modal = document.getElementById('modal');
            if (event.target == modal) closeModal();
        }

        window.onload = () => renderGrid(varieties);
    </script>
</body>
</html>
